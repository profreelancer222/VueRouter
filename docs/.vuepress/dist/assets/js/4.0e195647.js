(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{248:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),n("p",[t._v("该方法的参数可以是一个字符串路径，或者一个描述地址的对象。例如：")]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),n("p",[t._v("**注意：**如果目的地和当前路由相同，只有参数发生了改变 (比如从一个用户资料到另一个 "),n("code",[t._v("/users/1")]),t._v(" -> "),n("code",[t._v("/users/2")]),t._v(")，你需要使用 "),n("router-link",{attrs:{to:"./dynamic-matching.html#响应路由参数的变化"}},[n("code",[t._v("beforeRouteUpdate")])]),t._v(" 来响应这个变化 (比如抓取用户信息)。")],1),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),n("p",[t._v("例子")]),t._m(17),t._m(18),n("p",[t._v("你也许注意到 "),n("code",[t._v("router.push")]),t._v("、 "),n("code",[t._v("router.replace")]),t._v(" 和 "),n("code",[t._v("router.go")]),t._v(" 跟 "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/History",target:"_blank",rel:"noopener noreferrer"}},[t._v("window.history.pushState"),n("OutboundLink"),t._v("、 "),n("code",[t._v("window.history.replaceState")]),t._v(" 和 "),n("code",[t._v("window.history.go")])],1),t._v("好像， 实际上它们确实是效仿 "),n("code",[t._v("window.history")]),t._v(" API 的。")]),n("p",[t._v("因此，如果你已经熟悉 "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/History_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Browser History APIs"),n("OutboundLink")],1),t._v("，那么在 Vue Router 中操作 history 就是超级简单的。")]),t._m(19)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"编程式的导航"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编程式的导航","aria-hidden":"true"}},[this._v("#")]),this._v(" 编程式的导航")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("除了使用 "),s("code",[this._v("<router-link>")]),this._v(" 创建 a 标签来定义导航链接，我们还可以借助 router 的实例方法，通过编写代码来实现。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"router-push-location-oncomplete-onabort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-push-location-oncomplete-onabort","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("router.push(location, onComplete?, onAbort?)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意：在 Vue 实例内部，你可以通过 "),s("code",[this._v("$router")]),this._v(" 访问路由实例。因此你可以调用 "),s("code",[this._v("this.$router.push")]),this._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("想要导航到不同的 URL，则使用 "),s("code",[this._v("router.push")]),this._v(" 方法。这个方法会向 history 栈添加一个新的记录，所以，当用户点击浏览器后退按钮时，则回到之前的 URL。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当你点击 "),s("code",[this._v("<router-link>")]),this._v(" 时，这个方法会在内部调用，所以说，点击 "),s("code",[this._v('<router-link :to="...">')]),this._v(" 等同于调用 "),s("code",[this._v("router.push(...)")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("table",[s("thead",[s("tr",[s("th",[this._v("声明式")]),s("th",[this._v("编程式")])])]),s("tbody",[s("tr",[s("td",[s("code",[this._v('<router-link :to="...">')])]),s("td",[s("code",[this._v("router.push(...)")])])])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// 字符串")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'home'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 对象")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'home'")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 命名的路由")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'user'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("123")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 带查询参数，变成 /register?plan=private")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'register'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" query"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" plan"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'private'")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[n("strong",[t._v("注意：如果提供了 "),n("code",[t._v("path")]),t._v("，"),n("code",[t._v("params")]),t._v(" 会被忽略，上述例子中的 "),n("code",[t._v("query")]),t._v(" 并不属于这种情况。取而代之的是下面例子的做法，你需要提供路由的 "),n("code",[t._v("name")]),t._v(" 或手写完整的带有参数的 "),n("code",[t._v("path")]),t._v("：")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userId "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("123")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'user'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// -> /user/123")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token template-string"}},[n("span",{attrs:{class:"token string"}},[t._v("`/user/")]),n("span",{attrs:{class:"token interpolation"}},[n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("userId"),n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{attrs:{class:"token string"}},[t._v("`")])]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// -> /user/123")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 这里的 params 不生效")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("push")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'/user'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// -> /user")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("同样的规则也适用于 "),s("code",[this._v("router-link")]),this._v(" 组件的 "),s("code",[this._v("to")]),this._v(" 属性。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("在 2.2.0+，可选的在 "),n("code",[t._v("router.push")]),t._v(" 或 "),n("code",[t._v("router.replace")]),t._v(" 中提供 "),n("code",[t._v("onComplete")]),t._v(" 和 "),n("code",[t._v("onAbort")]),t._v(" 回调作为第二个和第三个参数。这些回调将会在导航成功完成 (在所有的异步钩子被解析之后) 或终止 (导航到相同的路由、或在当前导航完成之前导航到另一个不同的路由) 的时候进行相应的调用。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"router-replace-location-oncomplete-onabort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-replace-location-oncomplete-onabort","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("router.replace(location, onComplete?, onAbort?)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("跟 "),s("code",[this._v("router.push")]),this._v(" 很像，唯一的不同就是，它不会向 history 添加新记录，而是跟它的方法名一样 —— 替换掉当前的 history 记录。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("table",[s("thead",[s("tr",[s("th",[this._v("声明式")]),s("th",[this._v("编程式")])])]),s("tbody",[s("tr",[s("td",[s("code",[this._v('<router-link :to="..." replace>')])]),s("td",[s("code",[this._v("router.replace(...)")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"router-go-n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-go-n","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("router.go(n)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这个方法的参数是一个整数，意思是在 history 记录中向前或者后退多少步，类似 "),s("code",[this._v("window.history.go(n)")]),this._v("。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// 在浏览器记录中前进一步，等同于 history.forward()")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("go")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 后退一步记录，等同于 history.back()")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("go")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token operator"}},[t._v("-")]),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 前进 3 步记录")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("go")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("3")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 如果 history 记录不够用，那就默默地失败呗")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("go")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token operator"}},[t._v("-")]),n("span",{attrs:{class:"token number"}},[t._v("100")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrouter"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("go")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("100")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"操作-history"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作-history","aria-hidden":"true"}},[this._v("#")]),this._v(" 操作 History")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("还有值得提及的，Vue Router 的导航方法 ("),n("code",[t._v("push")]),t._v("、 "),n("code",[t._v("replace")]),t._v("、 "),n("code",[t._v("go")]),t._v(") 在各类路由模式 ("),n("code",[t._v("history")]),t._v("、 "),n("code",[t._v("hash")]),t._v(" 和 "),n("code",[t._v("abstract")]),t._v(") 下表现一致。")])}],!1,null,null,null);s.default=e.exports}}]);